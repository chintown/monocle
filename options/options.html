
<html>
  <head>
    <title>Scroll Preview</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="../libs/jquery-shim.js"></script>
    <script type="text/javascript" src="options.js"></script>
    <script type="text/javascript" src="../common/dev.js"></script>
    <script type="text/javascript" src="../common/user_settings.js"></script>
    <link rel="stylesheet" href="options.css" type="text/css">
  </head>
  <body>
    <div id="wrap">
      <div id="tabMenu">
        <h1>Scroll Preview</h1>
        <ul class="menu">
          <li><a href="#basics">Basics</a></li>
          <li><a href="#advanced">Advanced</a></li>
        </ul>
        <div class='separator'></div>
        <div id="footer">
          <a target='_blank' href="https://github.com/chintown/monocle/wiki">FAQ</a> ·
          <a target='_blank' href="https://github.com/chintown/monocle/issues">Issues</a> ·
          <a target='_blank' href="https://github.com/chintown/monocle/blob/master/CHANGES.md">Changelog</a>
        </div>
      </div>
      <div id="options">
        <div id="basics">
          <h2>Basics</h2>
          <div class="option-section">
            <h3>How it works</h3>
            <div class="option-subsection">
              <label><input id="app_basic" type="radio" name="mode" value="basic" /> <b>Manual</b>. You decide when to use it.</label>
              <ul class="option-note">
                <li>Clicking extension button (<img src="../icons/monocle-16.png">) will generate a preview for current page.</li>
                <li>If the preview is generated, clicking extension button (<img src="../icons/monocle-16.png">) just toggle it's visibility.</li>
              </ul>
              <br>
              <label><input id="app_advanced" type="radio" name="mode" value="advanced" /> <b>Automatic</b>. It's convenient when you need to read a lot.</label>
              <ul class="option-note">
                <li>Preview is automatically generated for every new page.</li>
                <li>Clicking extension button (<img src="../icons/monocle-16.png">) can turn off the automation.</li>
                <li class="warning">Generating preview is actually a heavy duty (it might even block your page). Use it wisely.</li>
              </ul>
              <br>
              <label><input id="app_conditional" type="radio" name="mode" value="conditional" /> <b>Conditional</b>. It enables for articles only.</label>
              <ul class="option-note">
                <li>Preview is automatically generated for article-based pages.</li>
                <li>The extension tries best to guess whether a page is article or not.</li>
                <li>If the preview is not generated, you can still click extension button (<img src="../icons/monocle-16.png">) to manually generate a preview (or use keyboard shortcuts).</li>
                <li>Additionally, you can leverage the whitelist and blacklist to have a finer control. (See Advanced settings)</li>
              </ul>
            </div>
          </div>
          <div class="option-section">
            <h3>Preview Type</h3>
            <div class="option-subsection">
              <b>Simple</b> — Fast. But it can not display <i>external images</i> and <i>iframes</i>.
              <ul class="option-note">
                <li>It's the default behavior.</li>
                <li>It uses <code>plain javascript</code>.</li>
                <li>It's limited by <a href="http://en.wikipedia.org/wiki/Same-origin_policy">same-origin policy</a>.</li>
              </ul>
              <br>
              <b>Refined</b> — Slow. But it reflects all the details.
              <ul class="option-note">
                <li>It's only available through keyboard shortcut.</li>
                <li>It uses <code>Chrome Snapshot API</code></li>
                <li>It generates result page by page incrementally.</li>
                <li>It may fail for very long page due to memory issue.</li>
              </ul>
              <br>
            </div>
          </div>
          <div class="option-section">
            <h3>Keyboard Shortcuts</h3>
            <div class="option-subsection">
              <b>Simple</b> — <code>Alt + A</code> (default)
              <br>
              <b>Refined</b> — <code>Alt + Shift + A</code> (default)
              <br>
              <ul class="option-note">
                <li>No matter you choose <b>manual</b> or <b>automatic</b> mode, keyboard shortcuts are always available.</li>
              </ul>
              <div class="warning">To change or fix keyboard shortcuts, please go to Chrome Setting page.</div>
              <ul class="option-note">
                <li><code>Settings</code> > <code>More Tools</code> > <code>Extensions</code> > (open sidebar by clicking the icon at upper-left corner) > <code>Keyboard shortcuts</code></li>
                <li>Or visit <code>chrome://extensions/shortcuts</code></li>
              </ul>
            </div>
          </div>
          <p><i>New changes are saved automatically. But to let existing tabs pick up the changes, please refresh.</i></p>
        </div>


        <div id="advanced">
          <h2>Advanced</h2>
          <div class="option-section">
            <h3>Magnifier</h3>
            <div class="option-subsection">
              <div>
                <label>
                  <input id="magnifier" type="checkbox" name="useMagnifier" checked/>
                  <span class="option-field">Shows a zoomed view while mouse hovers on scroll preview.</span>
                </label>
              </div>
            </div>
          </div>
          <div class="option-section">
            <h3>Preview Width</h3>
            <div class="option-subsection">
              <label>
                <input id="width_preview" type="number" name="widthOfScroll" min="100" style="width: 50px" /> px (at least 100px)</label>
            </div>
          </div>
          <div class="option-section">
            <h3>Auto-hide</h3>
            <div class="option-subsection">
              <span>When it doesn't get active attentions (e.g mouse is on it or page is scrolling), let it hide with a delay in</span>
              <label><input id="delay_sec_auto_hide" type="number" name="widthOfScroll" min="0" style="width: 50px" step="0.1" /> sec(s).</label><br>
              <span>If you set the delay to <code>-1</code>, it will only show up if mouse is on it but keep hidden when page scrolls.</span>
            </div>
          </div>
          <div class="option-section">
            <h3>Knob</h3>
            <div class="option-subsection">
              <div>
                <label>
                  <input id="knob" type="checkbox" name="useKnob" checked />
                  <span class="option-field">Shows a floating handle for easy hovering.</span>
                </label>
              </div>
            </div>
          </div>
          <div class="option-section">
            <h3>Whitelist</h3>
            <div class="option-subsection">
              <span>If URL matches any following patterns, <br>preview will be enabled automatically, even you're in <b>Manual</b> or <b>Conditional</b> mode.</span>
              <textarea id="whitelist" cols="70" rows="8" placeholder="e.g. news.ycombinator.com/item?id=*"></textarea>
              <span>One url pattern per line. For example, </span>
              <code><pre>
https://news.ycombinator.com/item?id=*
www.stackoverflow.com/questions/*
www.reddit.com/r/*/comments/
              </pre></code>
            </div>
          </div>
          <div class="option-section">
            <h3>Blacklist</h3>
            <div class="option-subsection">
              <span>If URL matches any following patterns, <br>preview will be disabled, even you're in <b>Automatic</b> or <b>Conditional</b> mode.</span>
              <textarea id="blacklist" cols="70" rows="8" placeholder="e.g. *.google.com"></textarea>
              <span>One url pattern per line. For example, </span>
              <code><pre>
*.google.com
*.amazon.com
www.facebook.com
www.youtube.com
codepen.io
              </pre></code>
            </div>
          </div>
          <div class="option-section hidden">
            <h3>Migration</h3>
            <div class="option-subsection">
              <span>Your settings have been fully synchronized to your 
                  <a href="https://chrome.google.com/sync" target="_blank">Google Account</a> 
                  from local Chrome storage. With this change, your settings are shared across all your devices. 
                  In case you want to take a look at your old settings, you can find them here.
                <textarea id="local_storage" cols="70" rows="10"></textarea>
            </div>
          </div>
          <p><i>New changes are automatically saves. But for existing tabs, please refresh them to pick up the new changes.</i></p>
        </div>
      </div>
      <div id="banner" hidden></div>
  </body>
</html>
